# Sim-to-Real Calibration for Robot Manipulation

## é¡¹ç›®æ¦‚è¿°

è§£å†³æœºæ¢°è‡‚åœ¨ç°å®ä¸–ç•Œæ‰§è¡Œä¸­çš„å°æ¦‚ç‡è·³å˜é—®é¢˜ï¼Œé€šè¿‡å¯¹æ¯”ä»¿çœŸ(sim)å’Œç°å®(real)ç¯å¢ƒä¸­çš„æ‰§è¡Œè½¨è¿¹ï¼Œå­¦ä¹ ä¸€ä¸ªæ ¡æ­£æ¨¡å‹æ¥è¡¥å¿åå·®ã€‚

## é—®é¢˜èƒŒæ™¯

- **é—®é¢˜**ï¼šç”µæœºæ‰§è¡Œå­˜åœ¨å°æ¦‚ç‡è·³å˜ï¼Œå¯¼è‡´å®é™…è§’åº¦ â‰  ç†æƒ³è§’åº¦
- **ç›®æ ‡**ï¼šå­¦ä¹ æ˜ å°„ `delta(dx, dy, dz)`ï¼Œé¢„æµ‹ä¸¤ä¸ªè½¨è¿¹ä¹‹é—´çš„åå·®

## ğŸ¯ ä¸¤ç§ä½¿ç”¨æ–¹å¼

### æ–¹å¼1: è¶…ç®€åŒ– - ç›´æ¥ä»MP4è§†é¢‘è®­ç»ƒï¼ˆæ¨èï¼‰

**æ•°æ®æ ¼å¼**: MP4è§†é¢‘ + Parquetä½å§¿æ–‡ä»¶

```bash
# 1. å‡†å¤‡æ•°æ®ï¼ˆåªéœ€æŒ‰è§„èŒƒç»„ç»‡æ–‡ä»¶ï¼‰
your_data/
â”œâ”€â”€ mp4/
â”‚   â”œâ”€â”€ sample_000_video1.mp4
â”‚   â”œâ”€â”€ sample_000_video2.mp4
â”‚   â””â”€â”€ ...
â””â”€â”€ episode/
    â”œâ”€â”€ sample_000_data1.parquet
    â”œâ”€â”€ sample_000_data2.parquet
    â””â”€â”€ ...

# 2. è®­ç»ƒ
python train_video.py --data-root your_data

# 3. å®Œæˆï¼
```

ğŸ“– **è¯¦ç»†æŒ‡å—**: [VIDEO_TRAINING_GUIDE.md](VIDEO_TRAINING_GUIDE.md)

---

### æ–¹å¼2: å®Œæ•´ç‰ˆ - LeRobotæ ¼å¼

**æ•°æ®æ ¼å¼**: å®Œæ•´LeRobotç›®å½•ç»“æ„ï¼ˆåŒ…å«episodesã€metadataç­‰ï¼‰

```bash
python train.py --config configs/default.yaml
```

ğŸ“– **è¯¦ç»†æŒ‡å—**: [DATA_PREPARATION.md](DATA_PREPARATION.md)

## æ•°æ®æ ¼å¼

### è¾“å…¥æ•°æ®ç»“æ„
```
data/
â”œâ”€â”€ real/          # ç°å®åœºæ™¯æ•°æ®
â”‚   â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ meta/
â”‚   â””â”€â”€ videos/
â”‚       â”œâ”€â”€ observation.images.above/
â”‚       â””â”€â”€ observation.images.front/
â””â”€â”€ sim/           # ä»¿çœŸåœºæ™¯æ•°æ®
    â”œâ”€â”€ data/
    â”œâ”€â”€ meta/
    â””â”€â”€ videos/
```

### Labelæ ¼å¼
- æœºæ¢°è‡‚ä½å§¿ï¼š`(x, y, z)` æˆ–æœ«ç«¯ä½å§¿å››å…ƒæ•°

### è¾“å…¥/è¾“å‡º
- **Input**: simè§†é¢‘æµ + realè§†é¢‘æµï¼ˆåˆå§‹çŠ¶æ€ç›¸åŒï¼‰
- **Output**: `delta(dx, dy, dz)`

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 2. å‡†å¤‡æ•°æ®
å°†æ•°æ®æŒ‰ç…§ä¸Šè¿°ç»“æ„æ”¾ç½®åœ¨ `data/` ç›®å½•ä¸‹

### 3. è®­ç»ƒæ¨¡å‹
```bash
python train.py --config configs/default.yaml
```

### 4. è¯„ä¼°æ¨¡å‹
```bash
python evaluate.py --checkpoint checkpoints/best_model.pt
```

## æ¨¡å‹æ¶æ„

- **è§†è§‰ç¼–ç å™¨**ï¼šæå–åŒè§†è§’è§†é¢‘ç‰¹å¾ï¼ˆé¡¶éƒ¨+è…•éƒ¨ç›¸æœºï¼‰
- **æ—¶åºç¼–ç å™¨**ï¼šæ•è·è½¨è¿¹çš„æ—¶åºä¾èµ–
- **æ ¡å‡†å¤´**ï¼šé¢„æµ‹ä½å§¿åå·® delta(dx, dy, dz)

## é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ data/           # æ•°æ®åŠ è½½å’Œé¢„å¤„ç†
â”‚   â”œâ”€â”€ models/         # æ¨¡å‹å®šä¹‰
â”‚   â”œâ”€â”€ training/       # è®­ç»ƒé€»è¾‘
â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”œâ”€â”€ configs/            # é…ç½®æ–‡ä»¶
â”œâ”€â”€ scripts/            # è¾…åŠ©è„šæœ¬
â”œâ”€â”€ train.py           # è®­ç»ƒå…¥å£
â”œâ”€â”€ evaluate.py        # è¯„ä¼°å…¥å£
â””â”€â”€ requirements.txt   # ä¾èµ–é¡¹
```